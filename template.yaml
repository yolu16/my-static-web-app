parameters:
- name: experimentalTemplate
  displayName: 'Use experimental build process?'
  type: object
  default: and(true, true)

#variables:
#- name: evaluated
#  value: $[ or(eq( parameters.experimentalTemplate, true),eq(parameters.experimentalTemplate, True)) ]

steps:
#- script: echo eval ${{ variables.evaluated }}
- script: echo check condition
  condition: and(succeeded(), eq( ${{ parameters.experimentalTemplate }}, true))
- $[ if or(eq(parameters['experimentalTemplate'], 'true'),eq(parameters['experimentalTemplate'], 'True')) ]:
  - script: echo step a!
    displayName: 'Step a Run a one-line script'
- $[ else ]:
  - script: |
      echo step b!
      echo macro '$(parameters.experimentalTemplate)'
      echo runtime '$[parameters.experimentalTemplate]'
      echo compile '${{ parameters.experimentalTemplate }}'
    displayName: 'Step b Run a one-line script'
